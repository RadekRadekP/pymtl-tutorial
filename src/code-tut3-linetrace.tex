%=========================================================================
% code-tut3-linetrace
%=========================================================================

\begin{figure}

\begin{lstlisting}[xleftmargin=1in]
`ifndef SYNTHESIS

reg [((`VC_TRACE_NBITS_NCHARS(p_nbits)*4+5)*8)-1:0] str;

`VC_TRACE_BEGIN
begin

  // Inputs

  $sformat( str, "{%x,%x,%x,%x}", in0, in1, in2, in3 );
  vc_trace.append_val_str( trace_str, in_val, str  );
  vc_trace.append_str( trace_str, "|" );

  ...

end
`VC_TRACE_END

`endif /* SYNTHESIS */
\end{lstlisting}%$

  \caption{\textbf{Example of Line Tracing Code --} This code generates
    the first fixed-width column for the line trace shown in
    Figure~\ref{fig-tut3-linetrace}}
  \label{code-tut3-linetrace}

\end{figure}

